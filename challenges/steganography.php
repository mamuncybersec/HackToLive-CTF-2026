<?php session_start();
$challenges = [
    ['id'=>1,'title'=>'Image LSB','description'=>'What tool extracts LSB data?','encrypted'=>'Image with hidden message in least significant bit','answer'=>'steghide','hint'=>'Popular steganography tool','difficulty'=>'Easy','points'=>35],
    ['id'=>2,'title'=>'Metadata Extraction','description'=>'Find hidden data in EXIF','encrypted'=>'Photo.jpg with embedded coordinates','answer'=>'exiftool','hint'=>'Tool to read image metadata','difficulty'=>'Easy','points'=>35],
    ['id'=>3,'title'=>'Morse in Image','description'=>'Decode morse pattern','encrypted'=>'â–“â–‘â–‘â–“ â–“â–“â–“â–‘ â–‘â–‘â–‘â–‘','answer'=>'hello','hint'=>'Black=dash White=dot Space=letter','difficulty'=>'Medium','points'=>50]
];
$submitted=$_SERVER['REQUEST_METHOD']==='POST';
$result=null;
if($submitted){foreach($challenges as $c){if($c['id']===(int)$_POST['challenge_id']){$result=['correct'=>strpos(strtolower($_POST['answer']),strtolower($c['answer']))!==false,'challenge'=>$c];break;}}}
?><!DOCTYPE html><html><head><meta charset="UTF-8"><title>Steganography - HackToLive CTF</title><style>*{margin:0;padding:0}body{font-family:monospace;background:linear-gradient(135deg,#0d1f3c 0%,#1a2e5c 50%,#2a5298 100%);min-height:100vh}header{background:rgba(0,0,0,0.95);color:white;padding:30px;text-align:center;border-bottom:3px solid #00ff00}h1{font-size:2.5em;text-shadow:0 0 20px #00ff00}.container{max-width:1000px;margin:40px auto;padding:20px}.back-btn{display:inline-block;margin-bottom:20px;padding:10px 20px;background:#00ff00;color:#000;border-radius:4px;text-decoration:none;font-weight:bold}.challenge-box{background:#fff;border-radius:8px;padding:25px;margin-bottom:20px;box-shadow:0 4px 15px rgba(0,0,0,0.2)}.challenge-box h3{color:#1e3c72}.badge{display:inline-block;padding:5px 12px;border-radius:4px;font-weight:bold;font-size:0.85em}.points{background:#6c5ce7;color:white;margin-left:10px}.difficulty-easy{background:#90EE90}.difficulty-medium{background:#FFD700}.enc{background:#1a1a1a;color:#00ff00;padding:15px;margin:15px 0;border-left:3px solid #00ff00;border-radius:4px}input{width:100%;padding:12px;border:2px solid #00ff00;margin:10px 0;border-radius:4px}.btn{background:#00ff00;color:#000;padding:12px 25px;border:none;border-radius:4px;cursor:pointer;font-weight:bold}.ok{background:#d4edda;color:#155724;padding:15px;border-radius:4px;margin-top:15px}.bad{background:#f8d7da;color:#721c24;padding:15px;border-radius:4px;margin-top:15px}.hint{background:#fff3cd;color:#856404;padding:12px;border-left:4px solid #ffc107;margin-top:12px;border-radius:4px}</style></head><body><header><h1>ðŸŽ¨ Steganography</h1></header><div class="container"><a href="../index.html" class="back-btn">&larr; Back</a><?php foreach($challenges as $c):?><div class="challenge-box"><h3><?=$c['title']?></h3><span class="badge difficulty-<?=strtolower($c['difficulty'])?>"><?=$c['difficulty']?></span><span class="badge points">+<?=$c['points']?> pts</span><p style="margin-top:10px"><?=$c['description']?></p><div class="enc"><?=$c['encrypted']?></div><?php if($submitted&&$result&&$result['challenge']['id']===$c['id']):?><div class="<?=$result['correct']?'ok':'bad'?>"><?=$result['correct']?'âœ… +â€‹'.$result['challenge']['points'].' pts':'âŒ Try again'?></div><?php endif;?><form method="POST"><input type="text" name="answer" required><input type="hidden" name="challenge_id" value="<?=$c['id']?>"><button class="btn">Submit</button></form><div class="hint">ðŸ’¡ <?=$c['hint']?></div></div><?php endforeach;?></div></body></html>