<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile - HackToLive CTF</title>
    <link rel="icon" href="../images/logo.png" type="image/png">
    <style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Courier New',monospace;background:linear-gradient(135deg,#0d1f3c 0%,#1a2e5c 30%,#2a5298 60%,#1a3a52 100%);min-height:100vh;color:#fff;display:flex;align-items:center;justify-content:center}div{background:rgba(0,0,0,0.8);padding:30px;border-radius:10px;box-shadow:0 0 20px rgba(0,255,0,0.4);width:320px;text-align:center}h2{color:#00ff00;margin-bottom:20px}button{padding:10px;background:#00ff00;color:#000;border:none;border-radius:4px;cursor:pointer;margin-top:20px;transition:0.3s}button:hover{background:#00cc00}</style>
</head>
<body>
<div id="profileBox">
    <h2>Profile</h2>
    <p id="info"></p>
    <button id="logoutBtn">Logout</button>
</div>
<script>
function getRegistered(){return JSON.parse(localStorage.getItem('registeredUsers')||'{}');}
function render(){
    const user=sessionStorage.getItem('ctfUser');
    if(!user){window.location.href='login.html';return;}
    const users=getRegistered();
    const rec=users[user];
    document.getElementById('info').innerHTML=`<strong>Name:</strong> ${rec.name}<br><strong>Email:</strong> ${rec.email}<br><strong>Username:</strong> ${user}`;
}

document.getElementById('logoutBtn').addEventListener('click',()=>{
    sessionStorage.removeItem('ctfUser');
    window.location.href='login.html';
});

render();
</script>
<script src="../js/profile-widget.js"></script>
</body>
</html>